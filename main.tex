%Dokumentklasse
\documentclass[a4paper,11pt]{scrreprt}
% scrbook
% \documentclass[a4paper,11pt]{scrbook}

% \usepackage{showframe}


\usepackage[left= 2.5cm,right = 2.5cm, bottom = 2.5 cm, top = 2.5 cm]{geometry}
\usepackage[onehalfspacing]{setspace}
% ============= Packages =============

% \usepackage{silence}
% \WarningFilter[pdftoc]{hyperref}{Token not allowed in a PDF string}

% Standard Packages
\usepackage[utf8]{inputenc}
\usepackage{svg}
\usepackage[german]{babel} % deutsch.
\usepackage[T1]{fontenc}
\usepackage{graphicx}
\usepackage{graphicx, subfigure}
\graphicspath{{img/}} %setze pfad fuer Bilder
% \usepackage{fancyhdr}
\usepackage{lmodern}
\usepackage{color}
\usepackage[table]{xcolor}
\usepackage{transparent}

% ==========COLORS=============================
\definecolor{importantColor}{RGB}{255,255,241}
\definecolor{mygreen}{RGB}{28,172,0} % color values Red, Green, Blue
\definecolor{mylilas}{RGB}{170,55,241}

\definecolor{codeBlue}{HTML}{3F88C5}
\definecolor{codeRed}{HTML}{E94F37}
\definecolor{codeGreen}{HTML}{44BBA4}
\definecolor{codeBlack}{HTML}{393E41}
\definecolor{tableHighligh}{HTML}{E94F37}
\definecolor{lightBg}{rgb}{0.95, 0.95, 0.95}


% \usepackage{fontawesome5}
\usepackage{pifont}

% ==============================================
% ===== CITATIONS======================

% ---- Natbib based---------------------
\usepackage[comma,authoryear]{natbib}
% --------biblatex based----------------
% \usepackage[backend=biber, style=authoryear]{biblatex}
% \addbibresource{references.bib}
% ======================================


% \bibliography{references}
% \usepackage[
% backend=biber,
% style=apa,
% ]{biblatex}
% \addbibresource{references.bib}

% \usepackage{chapterbib}
% zusätzliche Schriftzeichen der American Mathematical Society
\usepackage{amsfonts}
\usepackage{mathtools}
% BlockDiagram Drawing Package
\usepackage{tikz}
\usetikzlibrary{positioning}
\usepackage{pgfplots}
% \usetikzlibrary[pgfplots.groupplots]
\usepgfplotslibrary{groupplots}
\pgfplotsset{compat=1.18}
\usepackage{textcomp}
\usepackage{pdflscape} %for landscape format pages.
%Package for using the [H] option on graphics to force them into place
\usepackage{float}
%iPython packages:
\usepackage{adjustbox} % Used to constrain images to a maximum size
\usepackage{enumerate} % Needed for markdown enumerations to work
% \usepackage{geometry} % Used to adjust the document margins
\usepackage{amsmath} % Equations
\usepackage{amssymb} % Equations
\usepackage{polynom} %for polynomial longdivision.
\usepackage{wrapfig}

% \usepackage{mathrsfs}
% \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
% \usepackage[utf8x]{inputenc} % Allow utf-8 characters in the tex document
\usepackage{fancyvrb} % verbatim replacement that allows latex
\usepackage{grffile} % extends the file name processing of package graphics
                         % to support a larger range
    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
% \usepackage{hyperref}
\usepackage{longtable} % longtable support required by pandoc >1.10
\usepackage{scrhack}
\usepackage{framed}

\usepackage{atbegshi}% http://ctan.org/pkg/atbegshi

% for formelsammlung.
\usepackage{tcolorbox}
% \newtcolorbox{tightbox}{
%   sharp corners, 
%   colback=white,
%   colframe=black,
%   boxrule=0.5mm,
%   arc=0mm,
%   outer arc=0mm,
%   left=1mm, % Reduced left margin
%   right=1mm, % Reduced right margin
%   top=1mm, % Reduced top margin
%   bottom=1mm % Reduced bottom margin
% }


% Define a new command for a colored grid
% \newcolumntype{C}{>{\centering\arraybackslash}m{3cm}} % Centered and fixed width
% \newcommand{\mygrid}[2]{%
%     \begin{tcolorbox}[colback=blue!5, colframe=blue!80, title=#1, sharp corners=south]%
%         \begin{tabular}{C C C} #2 \end{tabular}
%     \end{tcolorbox}
% }
% Define a new command for a colored grid with tighter fitting
\newcolumntype{C}{>{\centering\arraybackslash}m{3cm}} % Centered and fixed width
\newcommand{\mygrid}[2]{%
    \begin{tcolorbox}[colback=gray!5, colframe=codeBlack, title=#1, sharp corners=south, boxrule=0.5mm, left=0mm, right=0mm, top=0mm, bottom=0mm]%
        \begin{tabular}{|C|C|C|} % Added vertical lines
            \hline % Horizontal line at the top
            #2 \\ \hline % Horizontal line after each row
        \end{tabular}
    \end{tcolorbox}
}


\usepackage{listings}
\usepackage{listingsutf8}
\usepackage{todonotes}
\usepackage{courier}
\usepackage{todonotes}
% \usepackage{html} 

% ======ADJUSTMENT OF CHAPTER TITLES=====================================================
\usepackage{titlesec}

% Customize chapter title spacing and alignment
\titleformat{\chapter}[display] % Use [display] to separate chapter title from content
  {\normalfont\huge\bfseries}   % Format of chapter title
  {\chaptername\ \thechapter}{20pt}{\hfill} % Label, spacing before, formatting of title
\titlespacing*{\chapter}{0pt}{-50pt}{20pt} % Adjust spacing for chapter title


% Keep the default formatting for sections and subsections
\titleformat{\section}{\normalfont\Large\bfseries}{\thesection}{1em}{}
\titleformat{\subsection}{\normalfont\large\bfseries}{\thesubsection}{1em}{}
\titleformat{\subsubsection}{\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{}
% ========================================================================================

% Dokumentinformationen
\usepackage[
	pdftitle={dsp course},
	pdfsubject={},
	pdfauthor={Patrik Lechner},
	pdfkeywords={}
	pdftex=true,
	colorlinks=true,
 	breaklinks=true,
	citecolor=black,
	linkcolor=codeBlue,
	menucolor=black,
	urlcolor=codeBlue
]{hyperref}

\hypersetup{
    % bookmarks=true,         % show bookmarks bar?
    unicode=false,          % non-Latin characters in Acrobat’s bookmarks
    pdftoolbar=true,        % show Acrobat’s toolbar?
    pdfmenubar=true,        % show Acrobat’s menu?
    pdffitwindow=false,     % window fit to page when opened
    pdfstartview={FitH},    % fits the width of the page to the window
    pdftitle={EPRO/IAS Scriptum},    % title
    pdfauthor={Patrik Lechner},     % author
    pdfsubject={EPRO/IAS},   % subject of the document
    pdfcreator={Patrik Lechner},   % creator of the document
    pdfproducer={Patrik Lechner}, % producer of the document
    pdfkeywords={dsp} {pure data} {audio}, % list of keywords
    pdfnewwindow=true,      % links in new window
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=gray,          % color of internal links (change box color with linkbordercolor)
    citecolor=black,        % color of links to bibliography
    filecolor=black,      % color of file links
    urlcolor=codeBlue           % color of external links
}





% embedding of audio/video files etc.
% \usepackage{attachfile}
% \usepackage{movie15}
% \usepackage{media9}
% \usepackage{menukeys}


% =============== BlockDiagram Drawing Config
\usetikzlibrary{shapes,arrows}
  \usetikzlibrary{mindmap,trees, backgrounds}

% Definition of blocks:
\tikzset{%
  block/.style    = {draw, thick, rectangle, minimum height = 3em,
    minimum width = 3em},
  sum/.style      = {draw, circle, node distance = 2cm}, % Adder
  input/.style    = {coordinate}, % Input
  output/.style   = {coordinate}, % Output
  mult/.style	  = {draw, isosceles triangle, minimum height=1cm, minimum width =1cm}
}
% mult/.style	  = {isosceles triangle, sharp corners, anchor=center, xshift=-4mm, minimum height=1.5cm, minimum width =0.05cm}
%isosceles triangle, fill=gray!25, minimum width=1.5cm

% Defining string as labels of certain blocks.
\newcommand{\suma}{\Large$+$}
\newcommand{\inte}{$\displaystyle \int$}
\newcommand{\derv}{\huge$\frac{d}{dt}$}
\newcommand{\conv}{\huge$\ast$}



% FH-grünBlau
\definecolor{FH}{rgb}{0.10, 0.57, 0.68}



% nicht einrücken nach Absatz
\setlength{\parindent}{0pt}



\AtBeginDocument{\AtBeginShipoutNext{\AtBeginShipoutDiscard}}

%======================================


% ============QUESTIONS AND ANSWERS OLD=================================
\usepackage[framemethod=tikz]{mdframed}
\newtheorem{question}{Problem}
\mdfdefinestyle{que}{
  linecolor=codeRed,
  backgroundcolor=lightBg,
}
\surroundwithmdframed[style=que]{question}

\newtheorem{answer}{Lösung}
\mdfdefinestyle{ans}{
  linecolor=codeGreen,
  backgroundcolor=lightBg, 
  % rotatebox
}
\surroundwithmdframed[style=ans]{answer}

\usepackage{environ}
\NewEnviron{Answer}
{%
\noindent
\rotatebox[origin=c]{180}{%
\noindent
\begin{minipage}[t]{\linewidth}
\begin{answer}
\BODY
\end{answer}%
\end{minipage}%
}%
}%


% =============================================================

% ============= Package Einstellungen & Sonstiges =============

%COMMENT
\newcommand{\comm}[1]{\Large{\color{red}{#1}}\normalsize{}}


%Besondere Trennungen
\hyphenation{De-zi-mal-tren-nung St-rei-fen-licht-scan-nern}

%römische Aufzählungen mit \RM{Zahl}
\newcommand{\RM}[1]{\MakeUppercase{\romannumeral #1}}

\newcommand{\pd}[1]{\texttt{[{#1}]}}
\newcommand{\link}[2]{\href{#1}{#2}\footnote{#1}}
\usepackage{mdframed}

\newcommand{\bgInfo}[1]{\begin{mdframed}[backgroundcolor=lightBg,rightline=false,leftline=false] #1 \end{mdframed}}

\newcommand{\praxis}[1]{\begin{mdframed}[backgroundcolor=lightBg,rightline=false,leftline=false] #1 \end{mdframed}}

\newcommand{\example}[1]{\begin{mdframed}[backgroundcolor=lightBg,rightline=false,leftline=false] #1 \end{mdframed}}

\newcommand{\video}[1]{
\begin{framed}
\textbf{Video Analogies}\\
 #1 \end{framed}}



\newcommand{\important}[1]{%
    \begin{tcolorbox}[colback=lightBg, colframe=codeBlack, title=\color{codeRed}{\ding{224}}, sharp corners=south, boxrule=0.5mm, left=0mm, right=0mm, top=0mm, bottom=0mm]%
        % \begin{tabular}{|C|C|C|} % Added vertical lines
            % \hline % Horizontal line at the top
            % #2 \\ \hline % Horizontal line after each row
        % \end{tabular}
        #1
    \end{tcolorbox}
}


% ipython notebook reference
\newcommand{\colab}[1]{%
  \begingroup\normalfont
  \href{#1}{\includegraphics[height=\fontcharht\font`\B]{img/colabBadge.png}\footnote{#1}}%
  \endgroup
}

% Shader toy reference
\newcommand{\shader}[1]{%
  \begingroup\normalfont
  \href{#1}{\includegraphics[height=\fontcharht\font`\B, trim=0cm 0.3cm 0cm 0cm]{shadertoy}\footnote{#1}}%
  \endgroup
}

% Define the faust command
\newcommand{\faust}[2]{%
    \href{#2}{%
        \textbf{#1} % Display the text
        \hspace{0.5em} % Add some space
        \tikz[baseline=1.55ex]{%
            \draw[thick,rounded corners=2pt, fill=black] (0,0.25) -- (0,0.45) -- (0.25,0.45) -- (0.5,0.7) -- (0.5,0) -- (0.25,0.25) -- cycle;
            \draw[line width=2pt,line cap=round] (0.6,0.25) arc (-30:30:2mm);
            \draw[line width=2pt,line cap=round] (0.7,0.15) arc (-30:30:4mm);
            \draw[line width=2pt,line cap=round] (0.8,0.05) arc (-30:30:6mm);
        }%
    }%
}




\def\doubleunderline#1{\underline{\underline{#1}}}


% ======== Python code listings=============
% from: https://tex.stackexchange.com/questions/83882/how-to-highlight-python-syntax-in-latex-listings-lstinputlistings-command
% Default fixed font does not support bold face
\DeclareFixedFont{\ttb}{T1}{txtt}{bx}{n}{10} % for bold
\DeclareFixedFont{\ttm}{T1}{txtt}{m}{n}{10}  % for normal

\lstdefinestyle{numbers} {numbers=left, stepnumber=1, numberstyle=\tiny, numbersep=10pt}

% Python style for highlighting
\newcommand\pythonstyle{\lstset{
language=Python,
basicstyle=\ttm,
tabsize=4,
style=numbers,
% numberstyle=\tiny,
numbersep=10pt,
morekeywords={self},              % Add keywords here
keywordstyle=\ttb\color{codeBlue},
emph={MyClass,__init__, In, Out},          % Custom highlighting
emphstyle=\ttb\color{codeRed},    % Custom highlighting style
stringstyle=\color{codeGreen},
frame=tb,                         % Any extra options here
showstringspaces=false,
inputencoding=utf8,
literate={ϵ}{$\epsilon$}1
}}


% Python environment
\lstnewenvironment{python}[2][]
{
\pythonstyle
\lstset{#1, caption={#2}}
}
{}

% Python for external files
\newcommand\pythonexternal[2][]{{
\pythonstyle
\lstinputlisting[#1]{#2}}}

% Python for inline
\newcommand\pythoninline[1]{{\pythonstyle\lstinline!#1!}}
% ================================================


% ===================INDEXING=====================
\usepackage{imakeidx}
\makeindex
% ================================================


% ============= Dokumentbeginn =============

\begin{document}


% ==========Matlab code formatting================
\lstset{language=Matlab,%
    %basicstyle=\color{red},
    basicstyle=\footnotesize\ttfamily,
    breaklines=true,%
    morekeywords={matlab2tikz},
    keywordstyle=\color{blue},%
    morekeywords=[2]{1}, keywordstyle=[2]{\color{black}},
    identifierstyle=\color{black},%
    stringstyle=\color{mylilas},
    commentstyle=\color{mygreen},%
    showstringspaces=false,%without this there will be a symbol in the places where there is a space
    % numbers=left,%
    % numberstyle={\tiny \color{black}},% size of the numbers
    % numbersep=9pt, % this defines how far the numbers are from the text
    emph=[1]{for,end,break},emphstyle=[1]\color{red}, %some words to emphasise
    %emph=[2]{word1,word2}, emphstyle=[2]{style},
}
% ================================================




\include{01_titel}

% \part im Inhaltsverzeichnis nicht nummerieren
\makeatletter
% \let\partbackup\l@part
% \renewcommand*\l@part[2]{\partbackup{#1}{}}

% Chapter number reset at new part.
% \@addtoreset{chapter}{part}

%Seitennummerierung neu beginnen, Zahlen [arabic], röm.Zahlen [roman,Roman], Buchstaben [alph,Alph]
% \pagenumbering{Roman}

% \newpage
%
% \include{02_Erklaerung}
% \newpage
% \include{03_zusammenfassung}

\newpage
% \pagestyle{fancy}

% \include{titel}
\include{titel}
\include{titel}
% \include{titel}

\newpage
%Inhaltsverzeichnis
\tableofcontents

\pagestyle{headings}
\newpage
%Seitennummerierung neu beginnen, Zahlen [arabic], röm.Zahlen [roman,Roman], Buchstaben [alph,Alph]
\pagenumbering{arabic}

\newpage
\include{00_vorbemerkungen}
\part{Semester I}
\include{lesson1}
\include{lesson2}
\include{lesson3}
% \include{lesson4}
% \include{lesson5}
% \include{lesson6}
% \part{Semester II}
% \include{lesson7}
% \include{lesson8}
% \include{lesson9}
% \include{lesson10}
% \include{lesson11}
% \include{lesson12}

% \include{lesson_DiffEq}

\include{Anhang_A}
% \include{modulation}
% \include{05_filters}
% \include{Karplus}
% \include{FFT}
% \cite{smith_mathematics_2007}
% \cite{farnell_designing_2010}
% \newpage
% \include{debuga}
% \newpage
% \include{polyPhony}

\include{solutions}
%Verzeichnis aller Bilder

%Literaturverzeichnis
\newpage

% \bibliographystyle{plainnat}
% \bibliography{references}

%===== NATBIB BASED BIBLIOGRAPHY
% \bibliographystyle{apalike}
\bibliographystyle{plainnat}
\bibliography{references}
\addcontentsline{toc}{chapter}{Literaturverzeichnis}
% ===============================

% ===BIBLATEX BASED
% \printbibliography
% \printbibliography[
% heading=bibintoc,
% title={Literaturverzeichnis}
% ]
% ====================

\newpage
\listoffigures
\addcontentsline{toc}{chapter}{Abbildungsverzeichnis}

\newpage
\lstlistoflistings
\addcontentsline{toc}{chapter}{Listings}

\printindex
\addcontentsline{toc}{chapter}{Index}

\end{document}
